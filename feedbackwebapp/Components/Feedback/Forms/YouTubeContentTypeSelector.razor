@namespace FeedbackWebApp.Components.Feedback.Forms
@using SharedDump.Models.YouTube

<div class="youtube-content-filter">
    <select class="form-select form-select-sm" 
            id="contentType-@InputId"
            @bind="SelectedContentType"
            @bind:after="OnContentTypeChangedAsync"
            disabled="@IsDisabled"
            aria-label="YouTube content type filter">
        <option value="@YouTubeContentType.Comments">
            ðŸ’¬ Comments
        </option>
        <option value="@YouTubeContentType.Transcript">
            ðŸ“„ Transcript
        </option>
        <option value="@YouTubeContentType.Both">
            ðŸ“š Both
        </option>
    </select>
</div>

@code {
    [Parameter]
    public YouTubeContentType SelectedContentType { get; set; } = YouTubeContentType.Comments;

    [Parameter]
    public EventCallback<YouTubeContentType> SelectedContentTypeChanged { get; set; }

    [Parameter]
    public bool IsDisabled { get; set; }

    [Parameter]
    public string InputId { get; set; } = Guid.NewGuid().ToString("N");

    private async Task OnContentTypeChangedAsync()
    {
        await SelectedContentTypeChanged.InvokeAsync(SelectedContentType);
    }
}
